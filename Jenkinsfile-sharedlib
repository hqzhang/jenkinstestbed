//////
import org.json.JSONObject;
import org.json.XML;
import org.json.JSONException;
////import java.nio.file.Files;
//import java.nio.file.Path;
def brch= scm.branches[0].toString().replace('*/','')
def libver="bitbucket-groovytest-lib@Menu-demo-good"
//1) library identifier: "bitbucket-groovytest-lib@${brch}", retriever: modernSCM(
//  [$class: 'GitSCMSource', remote: repo, credentialsId: ''])  //from any repo without definiation src excluded
library identifier: "bitbucket-groovytest-lib@${brch}", retriever:legacySCM(scm)  //from local repo without definiation
//3):library("bitbucket-groovytest-lib@${brch}") _         //from repo defined in system config, src excluded
//@Library('bitbucket-groovytest-lib@Menu-demo-good')      //from repo defined in system config, vars/src/resouces included


properties([
  parameters([
    activeChoiceParam(
      name: 'DYNAMIC_PARAM',
      choiceType: 'SINGLE_SELECT',
      groovyScript: [
        script: 'return sharedLibraryMethod()',
        fallbackScript: 'return ["Default"]'
      ]
    )
  ])
])


pipeline {
    agent any
    stages {
        stage('Create List') {
            steps {
                script {
                    echo "STAGE: create List..."
                    echo "params=$params"
                   
                }
            }
        }
   }
}


